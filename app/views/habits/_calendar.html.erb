<turbo-frame id="calendar_<%= @habit.id %>">
  <h3 class="mt-4 font-semibold">Check-in Calendar</h3>
  <div class="grid grid-cols-7 gap-2 mt-2">
    <% start_date = @habit.created_at.to_date %>
    <% today = Date.today %>
    <% (start_date..today).each do |date| %>
      <% checked_in = @habit.habit_checkins.exists?(date: date) %>
      <%= form_with url: habit_habit_checkins_path(@habit), method: :post do %>
        <%= hidden_field_tag :date, date %>
        <button class="text-sm px-2 py-1 rounded w-full
          <%= checked_in ? 'bg-green-500 text-white' : 'bg-gray-200 text-gray-700' %>">
          <%= date.strftime("%d") %>
        </button>
      <% end %>
    <% end %>
  </div>
</turbo-frame>
